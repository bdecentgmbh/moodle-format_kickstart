define(["core/str","core/notification","core/config","core/ajax"],function(a,b,c,d){var e=function(a,b){var c=this,d=document.querySelectorAll(".templates-block .use-template");c.contextId=a,c.courseId=b,d&&d.forEach(function(a){a.addEventListener("click",c.templateHandler.bind(c))})};return e.prototype.confirmbutton=".buttons .singlebutton form button",e.prototype.loadiconElement="#modal-footer span#load-action",e.prototype.contextId=null,e.prototype.courseId=null,e.prototype.templateHandler=function(a){var b=this;a.preventDefault();var c=a.target.getAttribute("data-templatename"),d=a.target.getAttribute("data-template");b.confirmImportTemplate(d,c)},e.prototype.confirmImportTemplate=function(e,f){var g=this,h={name:f};a.get_strings([{key:"confirm",component:"core"},{key:"confirmtemplate",param:h,component:"format_kickstart"},{key:"import"},{key:"no"}]).done(function(a){b.confirm(a[0],a[1],a[2],a[3],function(){document.querySelectorAll("body")[0].classList.add("kickstart-icon"),d.call([{methodname:"format_kickstart_import_template",args:{templateid:e,courseid:g.courseId},done:function(a){if(a){var b=c.wwwroot+"/course/view.php?id="+g.courseId;window.location.assign(b)}}}])})})},{init:function(a,b){return new e(a,b)}}});