/**
 * Defines Kicstart javascript.
 * @module   format_kickstart/formatkickstart
 * @category  Classes - autoloading
 * @copyright 2021, bdecent gmbh bdecent.de
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("format_kickstart/formatkickstart",["core/str","core/notification","core/config","core/ajax"],(function(str,notification,Config,Ajax){var Formatkickstart=function(contextid,courseid){var self=this,useTemplate=document.querySelectorAll(".templates-block .use-template");self.contextId=contextid,self.courseId=courseid,useTemplate&&useTemplate.forEach((element=>{element.addEventListener("click",self.templateHandler.bind(this))}))};return Formatkickstart.prototype.confirmbutton=".buttons .singlebutton form button",Formatkickstart.prototype.loadiconElement="#modal-footer span#load-action",Formatkickstart.prototype.contextId=null,Formatkickstart.prototype.courseId=null,Formatkickstart.prototype.templateHandler=function(event){event.preventDefault();let templateName=event.target.getAttribute("data-templatename"),templateId=event.target.getAttribute("data-template");this.confirmImportTemplate(templateId,templateName)},Formatkickstart.prototype.confirmImportTemplate=function(templateId,templateName){let self=this;var plugindata={name:templateName};str.get_strings([{key:"confirm",component:"core"},{key:"confirmtemplate",param:plugindata,component:"format_kickstart"},{key:"import"},{key:"no"}]).done((function(s){notification.confirm(s[0],s[1],s[2],s[3],(function(){document.querySelectorAll("body")[0].classList.add("kickstart-icon"),Ajax.call([{methodname:"format_kickstart_import_template",args:{templateid:templateId,courseid:self.courseId},done:function(response){if(response){let redirect=Config.wwwroot+"/course/view.php?id="+self.courseId;window.location.assign(redirect)}}}])}))}))},{init:function(contextid,courseid){return new Formatkickstart(contextid,courseid)}}}));

//# sourceMappingURL=formatkickstart.min.js.map