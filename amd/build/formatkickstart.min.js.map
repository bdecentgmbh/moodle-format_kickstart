{"version":3,"file":"formatkickstart.min.js","sources":["../src/formatkickstart.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Defines Kicstart javascript.\n * @module   format_kickstart/formatkickstart\n * @category  Classes - autoloading\n * @copyright 2021, bdecent gmbh bdecent.de\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n define(['jquery', 'core/str', 'core/notification', 'core/config', 'core/ajax', 'core/fragment', 'core/templates',\n    'core/modal_events', 'core/modal_factory', 'core/toast'],\n function($, str, notification, Config, Ajax, Fragment, Templates, ModalEvents, ModalFactory, Toast) {\n\n    /**\n     * Controls kicstart javascript.\n     * @param {int} contextid\n     * @param {int} courseid\n     * @param {int} menuid\n     * @param {boolean} filteroptions\n     * @return {void}\n    */\n    var Formatkickstart = function(contextid, courseid, menuid, filteroptions) {\n        var self = this;\n        var useTemplate = document.querySelectorAll(\".templates-block .use-template\");\n        self.contextId = contextid;\n        self.courseId = courseid;\n        self.menuid = menuid;\n        if (useTemplate) {\n            useTemplate.forEach((element) => {\n                element.addEventListener('click', self.templateHandler.bind(this));\n            });\n        }\n\n        if (filteroptions) {\n\n            var templateview = document.querySelectorAll(\".kickstart-page .listing-view-block a\");\n            if (templateview) {\n                templateview.forEach((element) => {\n                    element.addEventListener('click', self.templateviewHandler.bind(this));\n                });\n            }\n\n\n            var templatesearch = document.querySelectorAll(\".kickstart-page #search-template\");\n            if (templatesearch) {\n                templatesearch.forEach((element) => {\n                    element.addEventListener('change', self.templateSearchHandler.bind(this));\n                });\n            }\n\n            var librarycourse = document.querySelectorAll(\".librarycourse-filter-item .filter-item\");\n            if (librarycourse) {\n                librarycourse.forEach((element) => {\n                    element.addEventListener('change', self.libraryCourseHandler.bind(this));\n                });\n            }\n\n            var librarysort = document.querySelectorAll(\".kickstart-courselibrary-sort.sort-options a\");\n            if (librarysort) {\n                librarysort.forEach((element) => {\n                    element.addEventListener('click', (e) => {\n                        // Remove active class from all sort links\n                        librarysort.forEach(link => link.classList.remove('sort-active'));\n                        // Add active class to clicked element\n                        element.classList.add('sort-active');\n                        // Call the original handler\n                        self.libraryCourseHandler.bind(this)(e);\n                    });\n                });\n            }\n\n        }\n\n\n        var pagination = document.querySelectorAll(\".kickstart-page .pagination li\");\n        if (pagination) {\n            pagination.forEach((element) => {\n                element.addEventListener('click', self.libraryCourseHandler.bind(this));\n            });\n        }\n\n        var showcontentHandler = document.querySelectorAll(\".import-course-list-section .show-content-button\");\n            if (showcontentHandler) {\n                showcontentHandler.forEach((element) => {\n                    element.addEventListener('click', () => {\n                        str.get_strings([\n                            {key: 'showcontents', component: 'format_kickstart'},\n                            {key: 'hidecontents', component: 'format_kickstart'}\n                        ]).then(function(strings) {\n                            if (element.textContent.trim() === strings[0]) {\n                                element.textContent = strings[1];\n                            } else if (element.textContent.trim() === strings[1]) {\n                                element.textContent = strings[0];\n                            }\n                        });\n                    });\n                });\n            }\n\n        var importActivity = document.querySelectorAll(\".import-course-list-section .activity-items .import-activity\");\n        if (importActivity) {\n            importActivity.forEach((element) => {\n                element.addEventListener('click', self.importActivityHandler.bind(this));\n            });\n        }\n\n        $('body').delegate(self.fullDescription, \"click\", self.fullmodcontentHandler.bind(this));\n        $('body').delegate(self.trimDescription, \"click\", self.trimmodcontentHandler.bind(this));\n\n    };\n\n\n    Formatkickstart.prototype.confirmbutton = \".buttons .singlebutton form button\";\n\n    Formatkickstart.prototype.loadiconElement = \"#modal-footer span#load-action\";\n\n    Formatkickstart.prototype.fullDescription = \".list-library-courses .trim-summary .section-summary-action\";\n\n    Formatkickstart.prototype.trimDescription = \".list-library-courses .fullcontent-summary .section-summary-action\";\n\n    Formatkickstart.prototype.contextId = null;\n\n    Formatkickstart.prototype.courseId = null;\n\n    Formatkickstart.prototype.menuid = null;\n\n\n    Formatkickstart.prototype.importActivityHandler = function(event) {\n        event.preventDefault();\n        let self = this;\n        var courseid = event.currentTarget.getAttribute('data-course');\n        var cmid = event.currentTarget.getAttribute('data-module');\n        var maincourse = event.currentTarget.getAttribute('data-maincourse');\n        var modname = event.currentTarget.getAttribute('data-modname');\n        var args = {\n            courseid: courseid,\n            cmid: cmid,\n            maincourse: maincourse,\n            modname: modname,\n        };\n\n        ModalFactory.create({\n            type: ModalFactory.types.SAVE_CANCEL,\n            title: str.get_string('importactivity', 'format_kickstart'),\n            body: Fragment.loadFragment('format_kickstart', 'get_import_module_box', self.contextId, args),\n        }).then(function(modal) {\n            modal.setButtonText('save', str.get_string('importandview', 'format_kickstart'));\n            modal.setButtonText('cancel', str.get_string('importandreturn', 'format_kickstart'));\n            // Handle form submission.\n            modal.getRoot().on(ModalEvents.save, function() {\n                var sectionId = $('#import-module-section').val();\n                args.sectionid = sectionId;\n                args.action = 'view';\n                // Perform import.\n                self.importCourse(args);\n                modal.destroy();\n            }.bind(this));\n\n            modal.getRoot().on(ModalEvents.cancel, function() {\n                var sectionId = $('#import-module-section').val();\n                args.sectionid = sectionId;\n                args.action = 'return';\n                // Perform import.\n                self.importCourse(args);\n                modal.destroy();\n            }.bind(this));\n\n            modal.show();\n        }.bind(this));\n    };\n\n\n    Formatkickstart.prototype.importCourse = function(args) {\n        var self = this;\n        var promise = Fragment.loadFragment('format_kickstart', 'import_activity_courselib', self.contextId, args);\n        promise.then((viewurl) => {\n            if (args.action == 'view') {\n                window.location.href = viewurl;\n            } else {\n                str.get_string('importactivitysuccessfully', 'format_kickstart').then(function(string) {\n                    Toast.add(string, {type: 'success'});\n                });\n            }\n        }).catch();\n    };\n\n\n    Formatkickstart.prototype.fullmodcontentHandler = function(event) {\n        var THIS = $(event.currentTarget);\n        let fullContent = $(THIS).closest('.accordion-item').find('.fullcontent-summary');\n        let trimcontent = $(THIS).closest('.accordion-item').find('.trim-summary');\n        if (trimcontent.hasClass('summary-show')) {\n            trimcontent.removeClass('summary-show');\n            fullContent.addClass('summary-show');\n        }\n    };\n\n    Formatkickstart.prototype.trimmodcontentHandler = function(event) {\n        var THIS = $(event.currentTarget);\n        let fullContent = $(THIS).closest('.accordion-item').find('.fullcontent-summary');\n        let trimcontent = $(THIS).closest('.accordion-item').find('.trim-summary');\n        if (fullContent.hasClass('summary-show')) {\n            fullContent.removeClass('summary-show');\n            trimcontent.addClass('summary-show');\n        }\n    };\n\n    Formatkickstart.prototype.libraryCourseHandler = function(event) {\n        event.preventDefault();\n        let page = event.currentTarget.getAttribute('data-page-number');\n        page = page ? page - 1 : 0;\n        let sort = event.currentTarget.getAttribute('data-sort');\n        if (!sort) {\n           var sorthandler = document.querySelector(\".kickstart-courselibrary-sort .sort-link.sort-active\");\n           if (sorthandler) {\n                sort = sorthandler.getAttribute('data-sort');\n           }\n        }\n        let searchcourse = document.querySelector(\"#search-course-library\").value;\n        let customfieldsitems = document.querySelectorAll(\".library-customfield-field.librarycourse-filter-item .filter-item\");\n        let customvalues = {};\n        if (customfieldsitems) {\n            customfieldsitems.forEach((element) => {\n                customvalues[element.getAttribute(\"data-value\")] = element.value;\n            });\n        }\n        this.getlibarycourse(searchcourse, customvalues, sort, page);\n    };\n\n\n    Formatkickstart.prototype.getlibarycourse = function(searchcourse, customvalues, sort, page) {\n        let courselist = document.querySelector(\".import-course-list-section\");\n        if (courselist) {\n            let self = this;\n            let args = {\n                contextid: self.contextId,\n                courseid: self.courseId,\n                menuid: self.menuid,\n                searchcourse: searchcourse,\n                customvalues : JSON.stringify(customvalues),\n                sort: sort,\n                page: page,\n            };\n\n            const promise = Fragment.loadFragment(\n                'format_kickstart',\n                'get_library_courselist',\n                self.contextId,\n                args\n            );\n\n            promise.then((html, js) => {\n                Templates.replaceNode(courselist, html, js);\n            }).catch();\n        }\n    };\n\n    Formatkickstart.prototype.getKickstartTemplate = function(action, value) {\n        let templatelist = document.querySelector(\".template-list\");\n        let searchBox = document.querySelector(\".kickstart-page #search-template\");\n        let searchvalue = (searchBox != undefined) ? searchBox.value : '';\n        if (templatelist) {\n            let self = this;\n            let args = {\n                contextid: self.contextId,\n                courseid: self.courseId,\n                menuid: self.menuid,\n                action: action,\n                value: value,\n                search: searchvalue,\n            };\n\n            const promise = Fragment.loadFragment(\n                'format_kickstart',\n                'get_kickstart_templatelist',\n                self.contextId,\n                args\n            );\n\n            promise.then((html, js) => {\n                Templates.replaceNode(templatelist, html, js);\n            }).catch();\n        }\n    };\n\n    Formatkickstart.prototype.templateSearchHandler = function(event) {\n        let value = event.currentTarget.value;\n        this.getKickstartTemplate('searchtemplate', value);\n    };\n\n    Formatkickstart.prototype.templateviewHandler = function(event) {\n        let value = event.currentTarget.getAttribute(\"data-value\");\n        const tileView = document.getElementById('tile-view');\n        const listView = document.getElementById('list-view');\n\n        if (value === 'tile') {\n            tileView.classList.add('active');\n            listView.classList.remove('active');\n        } else {\n            listView.classList.add('active');\n            tileView.classList.remove('active');\n        }\n        this.getKickstartTemplate('changetemplate', value);\n    };\n\n    Formatkickstart.prototype.templateHandler = function(event) {\n        var self = this;\n        event.preventDefault();\n        let templateName = event.target.getAttribute(\"data-templatename\");\n        let templateId = event.target.getAttribute(\"data-template\");\n        self.confirmImportTemplate(templateId, templateName);\n    };\n\n    Formatkickstart.prototype.confirmImportTemplate = function(templateId, templateName) {\n        let self = this;\n        var plugindata = {\n            name: templateName\n        };\n        str.get_strings([\n            {key: 'confirm', component: 'core'},\n            {key: 'confirmtemplate', param: plugindata, component: 'format_kickstart'},\n            {key: 'import'},\n            {key: 'no'}\n        ]).done(function(s) {\n                notification.confirm(s[0], s[1], s[2], s[3], function() {\n                    document.querySelectorAll(\"body\")[0].classList.add(\"kickstart-icon\");\n                    Ajax.call([{\n                        methodname: 'format_kickstart_import_template',\n                        args: {templateid: templateId, courseid: self.courseId},\n                        done: function(response) {\n                            if (response) {\n                                let redirect = Config.wwwroot + \"/course/view.php?id=\" + self.courseId;\n                                window.location.assign(redirect);\n                            }\n                        }\n                    }]);\n                });\n            }\n        );\n    };\n\n    return {\n        init: function(contextid, courseid, menuid, filteroptions) {\n            return new Formatkickstart(contextid, courseid, menuid, filteroptions);\n        }\n    };\n});"],"names":["define","$","str","notification","Config","Ajax","Fragment","Templates","ModalEvents","ModalFactory","Toast","Formatkickstart","contextid","courseid","menuid","filteroptions","self","this","useTemplate","document","querySelectorAll","contextId","courseId","forEach","element","addEventListener","templateHandler","bind","templateview","templateviewHandler","templatesearch","templateSearchHandler","librarycourse","libraryCourseHandler","librarysort","e","link","classList","remove","add","pagination","showcontentHandler","get_strings","key","component","then","strings","textContent","trim","importActivity","importActivityHandler","delegate","fullDescription","fullmodcontentHandler","trimDescription","trimmodcontentHandler","prototype","confirmbutton","loadiconElement","event","preventDefault","args","currentTarget","getAttribute","cmid","maincourse","modname","create","type","types","SAVE_CANCEL","title","get_string","body","loadFragment","modal","setButtonText","getRoot","on","save","sectionId","val","sectionid","action","importCourse","destroy","cancel","show","viewurl","window","location","href","string","catch","THIS","fullContent","closest","find","trimcontent","hasClass","removeClass","addClass","page","sort","sorthandler","querySelector","searchcourse","value","customfieldsitems","customvalues","getlibarycourse","courselist","JSON","stringify","html","js","replaceNode","getKickstartTemplate","templatelist","searchBox","searchvalue","undefined","search","tileView","getElementById","listView","templateName","target","templateId","confirmImportTemplate","plugindata","name","param","done","s","confirm","call","methodname","templateid","response","redirect","wwwroot","assign","init"],"mappings":";;;;;;;AAsBCA,0CAAO,CAAC,SAAU,WAAY,oBAAqB,cAAe,YAAa,gBAAiB,iBAC7F,oBAAqB,qBAAsB,eAC9C,SAASC,EAAGC,IAAKC,aAAcC,OAAQC,KAAMC,SAAUC,UAAWC,YAAaC,aAAcC,WAUtFC,gBAAkB,SAASC,UAAWC,SAAUC,OAAQC,mBACpDC,KAAOC,KACPC,YAAcC,SAASC,iBAAiB,qCAC5CJ,KAAKK,UAAYT,UACjBI,KAAKM,SAAWT,SAChBG,KAAKF,OAASA,OACVI,aACAA,YAAYK,SAASC,UACjBA,QAAQC,iBAAiB,QAAST,KAAKU,gBAAgBC,KAAKV,UAIhEF,cAAe,KAEXa,aAAeT,SAASC,iBAAiB,yCACzCQ,cACAA,aAAaL,SAASC,UAClBA,QAAQC,iBAAiB,QAAST,KAAKa,oBAAoBF,KAAKV,cAKpEa,eAAiBX,SAASC,iBAAiB,oCAC3CU,gBACAA,eAAeP,SAASC,UACpBA,QAAQC,iBAAiB,SAAUT,KAAKe,sBAAsBJ,KAAKV,cAIvEe,cAAgBb,SAASC,iBAAiB,2CAC1CY,eACAA,cAAcT,SAASC,UACnBA,QAAQC,iBAAiB,SAAUT,KAAKiB,qBAAqBN,KAAKV,cAItEiB,YAAcf,SAASC,iBAAiB,gDACxCc,aACAA,YAAYX,SAASC,UACjBA,QAAQC,iBAAiB,SAAUU,IAE/BD,YAAYX,SAAQa,MAAQA,KAAKC,UAAUC,OAAO,iBAElDd,QAAQa,UAAUE,IAAI,eAEtBvB,KAAKiB,qBAAqBN,KAAKV,KAA/BD,CAAqCmB,aAQjDK,WAAarB,SAASC,iBAAiB,kCACvCoB,YACAA,WAAWjB,SAASC,UAChBA,QAAQC,iBAAiB,QAAST,KAAKiB,qBAAqBN,KAAKV,cAIrEwB,mBAAqBtB,SAASC,iBAAiB,oDAC3CqB,oBACAA,mBAAmBlB,SAASC,UACxBA,QAAQC,iBAAiB,SAAS,KAC9BvB,IAAIwC,YAAY,CACZ,CAACC,IAAK,eAAgBC,UAAW,oBACjC,CAACD,IAAK,eAAgBC,UAAW,sBAClCC,MAAK,SAASC,SACTtB,QAAQuB,YAAYC,SAAWF,QAAQ,GACvCtB,QAAQuB,YAAcD,QAAQ,GACvBtB,QAAQuB,YAAYC,SAAWF,QAAQ,KAC9CtB,QAAQuB,YAAcD,QAAQ,iBAOlDG,eAAiB9B,SAASC,iBAAiB,gEAC3C6B,gBACAA,eAAe1B,SAASC,UACpBA,QAAQC,iBAAiB,QAAST,KAAKkC,sBAAsBvB,KAAKV,UAI1EhB,EAAE,QAAQkD,SAASnC,KAAKoC,gBAAiB,QAASpC,KAAKqC,sBAAsB1B,KAAKV,OAClFhB,EAAE,QAAQkD,SAASnC,KAAKsC,gBAAiB,QAAStC,KAAKuC,sBAAsB5B,KAAKV,eAKtFN,gBAAgB6C,UAAUC,cAAgB,qCAE1C9C,gBAAgB6C,UAAUE,gBAAkB,iCAE5C/C,gBAAgB6C,UAAUJ,gBAAkB,8DAE5CzC,gBAAgB6C,UAAUF,gBAAkB,qEAE5C3C,gBAAgB6C,UAAUnC,UAAY,KAEtCV,gBAAgB6C,UAAUlC,SAAW,KAErCX,gBAAgB6C,UAAU1C,OAAS,KAGnCH,gBAAgB6C,UAAUN,sBAAwB,SAASS,OACvDA,MAAMC,qBACF5C,KAAOC,SAKP4C,KAAO,CACPhD,SALW8C,MAAMG,cAAcC,aAAa,eAM5CC,KALOL,MAAMG,cAAcC,aAAa,eAMxCE,WALaN,MAAMG,cAAcC,aAAa,mBAM9CG,QALUP,MAAMG,cAAcC,aAAa,iBAQ/CtD,aAAa0D,OAAO,CAChBC,KAAM3D,aAAa4D,MAAMC,YACzBC,MAAOrE,IAAIsE,WAAW,iBAAkB,oBACxCC,KAAMnE,SAASoE,aAAa,mBAAoB,wBAAyB1D,KAAKK,UAAWwC,QAC1FhB,KAAK,SAAS8B,OACbA,MAAMC,cAAc,OAAQ1E,IAAIsE,WAAW,gBAAiB,qBAC5DG,MAAMC,cAAc,SAAU1E,IAAIsE,WAAW,kBAAmB,qBAEhEG,MAAME,UAAUC,GAAGtE,YAAYuE,KAAM,eAC7BC,UAAY/E,EAAE,0BAA0BgF,MAC5CpB,KAAKqB,UAAYF,UACjBnB,KAAKsB,OAAS,OAEdnE,KAAKoE,aAAavB,MAClBc,MAAMU,WACR1D,KAAKV,OAEP0D,MAAME,UAAUC,GAAGtE,YAAY8E,OAAQ,eAC/BN,UAAY/E,EAAE,0BAA0BgF,MAC5CpB,KAAKqB,UAAYF,UACjBnB,KAAKsB,OAAS,SAEdnE,KAAKoE,aAAavB,MAClBc,MAAMU,WACR1D,KAAKV,OAEP0D,MAAMY,QACR5D,KAAKV,QAIXN,gBAAgB6C,UAAU4B,aAAe,SAASvB,MAEhCvD,SAASoE,aAAa,mBAAoB,4BAD7CzD,KAC+EI,UAAWwC,MAC7FhB,MAAM2C,UACS,QAAf3B,KAAKsB,OACLM,OAAOC,SAASC,KAAOH,QAEvBtF,IAAIsE,WAAW,6BAA8B,oBAAoB3B,MAAK,SAAS+C,QAC3ElF,MAAM6B,IAAIqD,OAAQ,CAACxB,KAAM,kBAGlCyB,SAIPlF,gBAAgB6C,UAAUH,sBAAwB,SAASM,WACnDmC,KAAO7F,EAAE0D,MAAMG,mBACfiC,YAAc9F,EAAE6F,MAAME,QAAQ,mBAAmBC,KAAK,wBACtDC,YAAcjG,EAAE6F,MAAME,QAAQ,mBAAmBC,KAAK,iBACtDC,YAAYC,SAAS,kBACrBD,YAAYE,YAAY,gBACxBL,YAAYM,SAAS,kBAI7B1F,gBAAgB6C,UAAUD,sBAAwB,SAASI,WACnDmC,KAAO7F,EAAE0D,MAAMG,mBACfiC,YAAc9F,EAAE6F,MAAME,QAAQ,mBAAmBC,KAAK,wBACtDC,YAAcjG,EAAE6F,MAAME,QAAQ,mBAAmBC,KAAK,iBACtDF,YAAYI,SAAS,kBACrBJ,YAAYK,YAAY,gBACxBF,YAAYG,SAAS,kBAI7B1F,gBAAgB6C,UAAUvB,qBAAuB,SAAS0B,OACtDA,MAAMC,qBACF0C,KAAO3C,MAAMG,cAAcC,aAAa,oBAC5CuC,KAAOA,KAAOA,KAAO,EAAI,MACrBC,KAAO5C,MAAMG,cAAcC,aAAa,iBACvCwC,KAAM,KACJC,YAAcrF,SAASsF,cAAc,wDACrCD,cACCD,KAAOC,YAAYzC,aAAa,kBAGpC2C,aAAevF,SAASsF,cAAc,0BAA0BE,MAChEC,kBAAoBzF,SAASC,iBAAiB,qEAC9CyF,aAAe,GACfD,mBACAA,kBAAkBrF,SAASC,UACvBqF,aAAarF,QAAQuC,aAAa,eAAiBvC,QAAQmF,cAG9DG,gBAAgBJ,aAAcG,aAAcN,KAAMD,OAI3D3F,gBAAgB6C,UAAUsD,gBAAkB,SAASJ,aAAcG,aAAcN,KAAMD,UAC/ES,WAAa5F,SAASsF,cAAc,kCACpCM,WAAY,KACR/F,KAAOC,KACP4C,KAAO,CACPjD,UAAWI,KAAKK,UAChBR,SAAUG,KAAKM,SACfR,OAAQE,KAAKF,OACb4F,aAAcA,aACdG,aAAeG,KAAKC,UAAUJ,cAC9BN,KAAMA,KACND,KAAMA,MAGMhG,SAASoE,aACrB,mBACA,yBACA1D,KAAKK,UACLwC,MAGIhB,MAAK,CAACqE,KAAMC,MAChB5G,UAAU6G,YAAYL,WAAYG,KAAMC,OACzCtB,UAIXlF,gBAAgB6C,UAAU6D,qBAAuB,SAASlC,OAAQwB,WAC1DW,aAAenG,SAASsF,cAAc,kBACtCc,UAAYpG,SAASsF,cAAc,oCACnCe,YAA4BC,MAAbF,UAA0BA,UAAUZ,MAAQ,MAC3DW,aAAc,KACVtG,KAAOC,KACP4C,KAAO,CACPjD,UAAWI,KAAKK,UAChBR,SAAUG,KAAKM,SACfR,OAAQE,KAAKF,OACbqE,OAAQA,OACRwB,MAAOA,MACPe,OAAQF,aAGIlH,SAASoE,aACrB,mBACA,6BACA1D,KAAKK,UACLwC,MAGIhB,MAAK,CAACqE,KAAMC,MAChB5G,UAAU6G,YAAYE,aAAcJ,KAAMC,OAC3CtB,UAIXlF,gBAAgB6C,UAAUzB,sBAAwB,SAAS4B,WACnDgD,MAAQhD,MAAMG,cAAc6C,WAC3BU,qBAAqB,iBAAkBV,QAGhDhG,gBAAgB6C,UAAU3B,oBAAsB,SAAS8B,WACjDgD,MAAQhD,MAAMG,cAAcC,aAAa,oBACvC4D,SAAWxG,SAASyG,eAAe,aACnCC,SAAW1G,SAASyG,eAAe,aAE3B,SAAVjB,OACAgB,SAAStF,UAAUE,IAAI,UACvBsF,SAASxF,UAAUC,OAAO,YAE1BuF,SAASxF,UAAUE,IAAI,UACvBoF,SAAStF,UAAUC,OAAO,gBAEzB+E,qBAAqB,iBAAkBV,QAGhDhG,gBAAgB6C,UAAU9B,gBAAkB,SAASiC,OAEjDA,MAAMC,qBACFkE,aAAenE,MAAMoE,OAAOhE,aAAa,qBACzCiE,WAAarE,MAAMoE,OAAOhE,aAAa,iBAHhC9C,KAINgH,sBAAsBD,WAAYF,eAG3CnH,gBAAgB6C,UAAUyE,sBAAwB,SAASD,WAAYF,kBAC/D9G,KAAOC,SACPiH,WAAa,CACbC,KAAML,cAEV5H,IAAIwC,YAAY,CACZ,CAACC,IAAK,UAAWC,UAAW,QAC5B,CAACD,IAAK,kBAAmByF,MAAOF,WAAYtF,UAAW,oBACvD,CAACD,IAAK,UACN,CAACA,IAAK,QACP0F,MAAK,SAASC,GACTnI,aAAaoI,QAAQD,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAAI,WACzCnH,SAASC,iBAAiB,QAAQ,GAAGiB,UAAUE,IAAI,kBACnDlC,KAAKmI,KAAK,CAAC,CACPC,WAAY,mCACZ5E,KAAM,CAAC6E,WAAYV,WAAYnH,SAAUG,KAAKM,UAC9C+G,KAAM,SAASM,aACPA,SAAU,KACNC,SAAWxI,OAAOyI,QAAU,uBAAyB7H,KAAKM,SAC9DmE,OAAOC,SAASoD,OAAOF,sBAS5C,CACHG,KAAM,SAASnI,UAAWC,SAAUC,OAAQC,sBACjC,IAAIJ,gBAAgBC,UAAWC,SAAUC,OAAQC"}