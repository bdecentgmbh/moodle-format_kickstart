{"version":3,"file":"formatkickstart.min.js","sources":["../src/formatkickstart.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Defines Kicstart javascript.\r\n * @module   format_kickstart/formatkickstart\r\n * @category  Classes - autoloading\r\n * @copyright 2021, bdecent gmbh bdecent.de\r\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n define(['core/loadingicon'], function(Loadingicon) {\r\n\r\n    /**\r\n     * Controls kicstart javascript.\r\n    */\r\n    var Formatkickstart = function() {\r\n        var buttonelement = document.querySelectorAll(\"#modal-footer .buttons\")[0];\r\n        if (buttonelement) {\r\n            buttonelement.insertAdjacentHTML(\"beforebegin\", \"<span id='load-action'></span>\");\r\n        }\r\n        document.querySelectorAll(this.confirmform)[0].addEventListener(\"submit\", this.importInstrctions.bind(this));\r\n    };\r\n\r\n    Formatkickstart.prototype.confirmform = \".buttons .singlebutton form\";\r\n    Formatkickstart.prototype.confirmbutton = \".buttons .singlebutton form button\";\r\n    Formatkickstart.prototype.loadiconElement = \"#modal-footer span#load-action\";\r\n\r\n    Formatkickstart.prototype.importInstrctions = function() {\r\n        var buttons = document.querySelectorAll(this.confirmbutton);\r\n        for (let $i in buttons) {\r\n            buttons[$i].disabled = true;\r\n        }\r\n        Loadingicon.addIconToContainer(this.loadiconElement);\r\n    };\r\n\r\n    return {\r\n        init: function() {\r\n            return new Formatkickstart();\r\n        }\r\n    };\r\n});"],"names":["define","Loadingicon","Formatkickstart","buttonelement","document","querySelectorAll","insertAdjacentHTML","this","confirmform","addEventListener","importInstrctions","bind","prototype","confirmbutton","loadiconElement","buttons","$i","disabled","addIconToContainer","init"],"mappings":";;;;;;;AAsBCA,0CAAO,CAAC,qBAAqB,SAASC,iBAK/BC,gBAAkB,eACdC,cAAgBC,SAASC,iBAAiB,0BAA0B,GACpEF,eACAA,cAAcG,mBAAmB,cAAe,kCAEpDF,SAASC,iBAAiBE,KAAKC,aAAa,GAAGC,iBAAiB,SAAUF,KAAKG,kBAAkBC,KAAKJ,eAG1GL,gBAAgBU,UAAUJ,YAAc,8BACxCN,gBAAgBU,UAAUC,cAAgB,qCAC1CX,gBAAgBU,UAAUE,gBAAkB,iCAE5CZ,gBAAgBU,UAAUF,kBAAoB,eACtCK,QAAUX,SAASC,iBAAiBE,KAAKM,mBACxC,IAAIG,MAAMD,QACXA,QAAQC,IAAIC,UAAW,EAE3BhB,YAAYiB,mBAAmBX,KAAKO,kBAGjC,CACHK,KAAM,kBACK,IAAIjB"}